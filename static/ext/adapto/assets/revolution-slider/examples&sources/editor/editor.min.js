function is_mobile(){var e=["android","webos","iphone","ipad","blackberry","Android","webos",,"iPod","iPhone","iPad","Blackberry","BlackBerry"],t=!1;for(i in e)navigator.userAgent.split(e[i]).length>1&&(t=!0);return t}function prepareAnimateCreator(){var e=jQuery("#caption-inout-controll");e.data("direction",0);var t=jQuery("#outanimation .settings_wrapper");t.slideUp(200).addClass("collapsed");var a=jQuery("#inanimation .settings_wrapper");jQuery("#outanimation .caption-demo-controll").click(function(){t.hasClass("collapsed")?(t.removeClass("collapsed").slideDown(200),a.slideUp(200).addClass("collapsed")):(t.slideUp(200).addClass("collapsed"),a.removeClass("collapsed").slideDown(200))}),jQuery("#inanimation .caption-demo-controll").click(function(){a.hasClass("collapsed")?(a.removeClass("collapsed").slideDown(200),t.slideUp(200).addClass("collapsed")):(a.slideUp(200).addClass("collapsed"),t.removeClass("collapsed").slideDown(200))}),jQuery("#caption-inout-controll").click(function(){0==e.data("direction")?(e.data("direction",1),jQuery("#revshowmetheinanim").removeClass("reviconinaction"),jQuery("#revshowmetheoutanim").addClass("reviconinaction")):1==e.data("direction")?(e.data("direction",2),jQuery("#revshowmetheinanim").addClass("reviconinaction"),jQuery("#revshowmetheoutanim").addClass("reviconinaction")):2==e.data("direction")&&(e.data("direction",0),jQuery("#revshowmetheinanim").addClass("reviconinaction"),jQuery("#revshowmetheoutanim").removeClass("reviconinaction"))}),startAnimationInCreator()}function startAnimationInCreator(){stopAnimationInPreview(),animateCreatorIn()}function killAnimationInCreator(){var e=jQuery("#caption_custon_anim_preview");TweenLite.killTweensOf(e,!1)}function animateCreatorIn(){var e=jQuery("#caption_custon_anim_preview"),t=(jQuery("#caption-inout-controll"),jQuery('input[name="movex"]').val()),a=jQuery('input[name="movey"]').val(),n=jQuery('input[name="movez"]').val(),o=jQuery('input[name="rotationx"]').val(),i=jQuery('input[name="rotationy"]').val(),r=jQuery('input[name="rotationz"]').val(),s=jQuery('input[name="scalex"]').val()/100,l=jQuery('input[name="scaley"]').val()/100,u=jQuery('input[name="skewx"]').val(),c=jQuery('input[name="skewy"]').val(),p=jQuery('input[name="captionopacity"]').val()/100,d=jQuery('input[name="captionperspective"]').val(),m=jQuery('input[name="originx"]').val()+"%",h=jQuery('input[name="originy"]').val()+"%",v=m+" "+h,f=parseInt(jQuery('input[name="captionspeed"]').val(),0);100>f&&(f=100);var j=jQuery("#caption-easing-demo").val();jQuery("#custominresult").text("x:"+t+";y:"+a+";z:"+n+";rotationX:"+o+";rotationY:"+i+";rotationZ:"+r+";scaleX:"+s+";scaleY:"+l+";skewX:"+u+";skewY:"+c+";opacity:"+p+";transformPerspective:"+d+";transformOrigin:"+v+";"),jQuery("#custominspeed").text(f),jQuery("#custominease").text(j),jQuery("#presplitin").text(jQuery("#caption-splitin-demo").val()),jQuery("#presplitout").text(jQuery("#caption-splitout-demo").val()),jQuery("#predelayin").text(jQuery('input[name="splitspeedin"]').val()/1e3),jQuery("#predleayout").text(jQuery('input[name="splitspeedout"]').val()/1e3),f/=1e3;var y=jQuery(".tp-present-wrapper").width()/2-72,w=jQuery(".tp-present-wrapper").height()/2-17;void 0!=e.data("mySplitText")&&e.data("mySplitText").revert(),e.data("splitin",jQuery("#caption-splitin-demo").val());var g=e,Q=0,b=1;("chars"==e.data("splitin")||"words"==e.data("splitin")||"lines"==e.data("splitin"))&&(e.find("a").length>0?e.data("mySplitText",new SplitText(e.find("a"),{type:"lines,words,chars",charsClass:"tp-splitted",wordsClass:"tp-splitted",linesClass:"tp-splitted"})):e.data("mySplitText",new SplitText(e,{type:"lines,words,chars",charsClass:"tp-splitted",wordsClass:"tp-splitted",linesClass:"tp-splitted"})),e.addClass("splitted"),Q=jQuery('input[name="splitspeedin"]').val()/1e3),"chars"==e.data("splitin")&&(g=e.data("mySplitText").chars,b=g.length),"words"==e.data("splitin")&&(g=e.data("mySplitText").words,b=g.length),"lines"==e.data("splitin")&&(g=e.data("mySplitText").lines,b=g.length),TweenLite.fromTo(e,f,{top:w,left:y,opacity:p},{top:w,left:y,opacity:1});var x=new TimelineLite;TweenLite.killTweensOf(g,!1),x.staggerFromTo(g,f,{scaleX:s,scaleY:l,rotationX:o,rotationY:i,rotationZ:r,x:t,y:a,z:n+1,skewX:u,skewY:c,transformPerspective:d,transformOrigin:v,visibility:"hidden"},{x:0,y:0,scaleX:1,scaleY:1,rotationX:0,rotationY:0,rotationZ:0,skewX:0,skewY:0,z:1,visibility:"visible",opacity:1,ease:j,overwrite:"all"},Q),setTimeout(function(){animateCreatorOut()},Q/1e3*b+1e3*f+500)}function animateCreatorOut(){var e=jQuery("#caption_custon_anim_preview"),t=(jQuery("#caption-inout-controll"),jQuery('input[name="movexout"]').val()),a=jQuery('input[name="moveyout"]').val(),n=jQuery('input[name="movezout"]').val(),o=jQuery('input[name="rotationxout"]').val(),i=jQuery('input[name="rotationyout"]').val(),r=jQuery('input[name="rotationzout"]').val(),s=jQuery('input[name="scalexout"]').val()/100,l=jQuery('input[name="scaleyout"]').val()/100,u=jQuery('input[name="skewxout"]').val(),c=jQuery('input[name="skewyout"]').val(),p=jQuery('input[name="captionopacityout"]').val()/100,d=jQuery('input[name="captionperspectiveout"]').val(),m=jQuery('input[name="originxout"]').val()+"%",h=jQuery('input[name="originyout"]').val()+"%",v=m+" "+h,f=parseInt(jQuery('input[name="captionspeedout"]').val(),0);100>f&&(f=100);var j=jQuery("#caption-easing-demoout").val();jQuery("#customoutresult").text("x:"+t+";y:"+a+";z:"+n+";rotationX:"+o+";rotationY:"+i+";rotationZ:"+r+";scaleX:"+s+";scaleY:"+l+";skewX:"+u+";skewY:"+c+";opacity:"+p+";transformPerspective:"+d+";transformOrigin:"+v+";"),jQuery("#customoutspeed").text(f),jQuery("#customoutease").text(j),jQuery("#presplitin").text(jQuery("#caption-splitin-demo").val()),jQuery("#presplitout").text(jQuery("#caption-splitout-demo").val()),jQuery("#predelayin").text(jQuery('input[name="splitspeedin"]').val()/1e3),jQuery("#predleayout").text(jQuery('input[name="splitspeedout"]').val()/1e3),f/=1e3;var y=jQuery(".tp-present-wrapper").width()/2-72,w=jQuery(".tp-present-wrapper").height()/2-17;void 0!=e.data("mySplitText")&&e.data("mySplitText").revert(),e.data("splitout",jQuery("#caption-splitout-demo").val());var g=e,Q=0,b=1;("chars"==e.data("splitout")||"words"==e.data("splitout")||"lines"==e.data("splitout"))&&(e.find("a").length>0?e.data("mySplitText",new SplitText(e.find("a"),{type:"lines,words,chars",charsClass:"tp-splitted",wordsClass:"tp-splitted",linesClass:"tp-splitted"})):e.data("mySplitText",new SplitText(e,{type:"lines,words,chars",charsClass:"tp-splitted",wordsClass:"tp-splitted",linesClass:"tp-splitted"})),e.addClass("splitted"),Q=jQuery('input[name="splitspeedout"]').val()/1e3),"chars"==e.data("splitout")&&(g=e.data("mySplitText").chars,b=g.length),"words"==e.data("splitout")&&(g=e.data("mySplitText").words,b=g.length),"lines"==e.data("splitout")&&(g=e.data("mySplitText").lines,b=g.length),e==g?TweenLite.fromTo(e,f,{top:w,left:y,opacity:1},{top:w,left:y,opacity:p}):(TweenLite.set(e,{top:w,left:y,opacity:1}),setTimeout(function(){TweenLite.fromTo(e,.3,{top:w,left:y,opacity:1},{top:w,left:y,opacity:p})},1e3*Q*b+1e3*f));var x=new TimelineLite;TweenLite.killTweensOf(g,!1),x.staggerFromTo(g,f,{x:0,y:0,scaleX:1,scaleY:1,rotationX:0,rotationY:0,rotationZ:0,skewX:0,skewY:0,z:1,visibility:"visible",opacity:1},{scaleX:s,scaleY:l,rotationX:o,rotationY:i,rotationZ:r,x:t,y:a,z:n+1,skewX:u,skewY:c,left:y,top:w,transformPerspective:d,transformOrigin:v,ease:j,overwrite:"all",delay:.3,opacity:p},Q),setTimeout(function(){animateCreatorIn()},1e3*Q*b+1e3*f+500)}function stopAnimationInPreview(){var e=jQuery("#preview_caption_animateme");TweenLite.killTweensOf(e,!1),e.data("timer")&&clearTimeout(e.data("timer")),e.data("timera")&&clearTimeout(e.data("timera"))}!function(e,t,a){e.fn.jScrollPane=function(n){function o(n,o){function i(t){var o,s,u,p,d,m,f=!1,j=!1;if(R=t,_===a)d=n.scrollTop(),m=n.scrollLeft(),n.css({overflow:"hidden",padding:0}),F=n.innerWidth()+wt,q=n.innerHeight(),n.width(F),_=e('<div class="jspPane" />').css("padding",yt).append(n.children()),E=e('<div class="jspContainer" />').css({width:F+"px",height:q+"px"}).append(_).appendTo(n);else{if(n.css("width",""),f=R.stickToBottom&&S(),j=R.stickToRight&&D(),p=n.innerWidth()+wt!=F||n.outerHeight()!=q,p&&(F=n.innerWidth()+wt,q=n.innerHeight(),E.css({width:F+"px",height:q+"px"})),!p&&gt==V&&_.outerHeight()==G)return n.width(F),void 0;gt=V,_.css("width",""),n.width(F),E.find(">.jspVerticalBar,>.jspHorizontalBar").remove().end()}_.css("overflow","auto"),V=t.contentWidth?t.contentWidth:_[0].scrollWidth,G=_[0].scrollHeight,_.css("overflow",""),U=V/F,Z=G/q,N=Z>1,K=U>1,K||N?(n.addClass("jspScrollable"),o=R.maintainPosition&&(et||nt),o&&(s=C(),u=M()),r(),l(),c(),o&&(k(j?V-F:s,!1),x(f?G-q:u,!1)),B(),P(),W(),R.enableKeyboardNavigation&&z(),R.clickOnTrack&&h(),L(),R.hijackInternalLinks&&I()):(n.removeClass("jspScrollable"),_.css({top:0,width:E.width()-wt}),X(),A(),H(),v()),R.autoReinitialise&&!jt?jt=setInterval(function(){i(R)},R.autoReinitialiseDelay):!R.autoReinitialise&&jt&&clearInterval(jt),d&&n.scrollTop(0)&&x(d,!1),m&&n.scrollLeft(0)&&k(m,!1),n.trigger("jsp-initialised",[K||N])}function r(){N&&(E.append(e('<div class="jspVerticalBar" />').append(e('<div class="jspCap jspCapTop" />'),e('<div class="jspTrack" />').append(e('<div class="jspDrag" />').append(e('<div class="jspDragTop" />'),e('<div class="jspDragBottom" />'))),e('<div class="jspCap jspCapBottom" />'))),ot=E.find(">.jspVerticalBar"),it=ot.find(">.jspTrack"),$=it.find(">.jspDrag"),R.showArrows&&(ut=e('<a class="jspArrow jspArrowUp" />').bind("mousedown.jsp",d(0,-1)).bind("click.jsp",Y),ct=e('<a class="jspArrow jspArrowDown" />').bind("mousedown.jsp",d(0,1)).bind("click.jsp",Y),R.arrowScrollOnHover&&(ut.bind("mouseover.jsp",d(0,-1,ut)),ct.bind("mouseover.jsp",d(0,1,ct))),p(it,R.verticalArrowPositions,ut,ct)),st=q,E.find(">.jspVerticalBar>.jspCap:visible,>.jspVerticalBar>.jspArrow").each(function(){st-=e(this).outerHeight()}),$.hover(function(){$.addClass("jspHover")},function(){$.removeClass("jspHover")}).bind("mousedown.jsp",function(t){e("html").bind("dragstart.jsp selectstart.jsp",Y),$.addClass("jspActive");var a=t.pageY-$.position().top;return e("html").bind("mousemove.jsp",function(e){j(e.pageY-a,!1)}).bind("mouseup.jsp mouseleave.jsp",f),!1}),s())}function s(){it.height(st+"px"),et=0,rt=R.verticalGutter+it.outerWidth(),_.width(F-rt-wt);try{0===ot.position().left&&_.css("margin-left",rt+"px")}catch(e){}}function l(){K&&(E.append(e('<div class="jspHorizontalBar" />').append(e('<div class="jspCap jspCapLeft" />'),e('<div class="jspTrack" />').append(e('<div class="jspDrag" />').append(e('<div class="jspDragLeft" />'),e('<div class="jspDragRight" />'))),e('<div class="jspCap jspCapRight" />'))),pt=E.find(">.jspHorizontalBar"),dt=pt.find(">.jspTrack"),tt=dt.find(">.jspDrag"),R.showArrows&&(vt=e('<a class="jspArrow jspArrowLeft" />').bind("mousedown.jsp",d(-1,0)).bind("click.jsp",Y),ft=e('<a class="jspArrow jspArrowRight" />').bind("mousedown.jsp",d(1,0)).bind("click.jsp",Y),R.arrowScrollOnHover&&(vt.bind("mouseover.jsp",d(-1,0,vt)),ft.bind("mouseover.jsp",d(1,0,ft))),p(dt,R.horizontalArrowPositions,vt,ft)),tt.hover(function(){tt.addClass("jspHover")},function(){tt.removeClass("jspHover")}).bind("mousedown.jsp",function(t){e("html").bind("dragstart.jsp selectstart.jsp",Y),tt.addClass("jspActive");var a=t.pageX-tt.position().left;return e("html").bind("mousemove.jsp",function(e){w(e.pageX-a,!1)}).bind("mouseup.jsp mouseleave.jsp",f),!1}),mt=E.innerWidth(),u())}function u(){E.find(">.jspHorizontalBar>.jspCap:visible,>.jspHorizontalBar>.jspArrow").each(function(){mt-=e(this).outerWidth()}),dt.width(mt+"px"),nt=0}function c(){if(K&&N){var t=dt.outerHeight(),a=it.outerWidth();st-=t,e(pt).find(">.jspCap:visible,>.jspArrow").each(function(){mt+=e(this).outerWidth()}),mt-=a,q-=a,F-=t,dt.parent().append(e('<div class="jspCorner" />').css("width",t+"px")),s(),u()}K&&_.width(E.outerWidth()-wt+"px"),G=_.outerHeight(),Z=G/q,K&&(ht=Math.ceil(1/U*mt),ht>R.horizontalDragMaxWidth?ht=R.horizontalDragMaxWidth:ht<R.horizontalDragMinWidth&&(ht=R.horizontalDragMinWidth),tt.width(ht+"px"),at=mt-ht,g(nt)),N&&(lt=Math.ceil(1/Z*st),lt>R.verticalDragMaxHeight?lt=R.verticalDragMaxHeight:lt<R.verticalDragMinHeight&&(lt=R.verticalDragMinHeight),$.height(lt+"px"),J=st-lt,y(et))}function p(e,t,a,n){var o,i="before",r="after";"os"==t&&(t=/Mac/.test(navigator.platform)?"after":"split"),t==i?r=t:t==r&&(i=t,o=a,a=n,n=o),e[i](a)[r](n)}function d(e,t,a){return function(){return m(e,t,this,a),this.blur(),!1}}function m(t,a,n,o){n=e(n).addClass("jspActive");var i,r,s=!0,l=function(){0!==t&&Qt.scrollByX(t*R.arrowButtonSpeed),0!==a&&Qt.scrollByY(a*R.arrowButtonSpeed),r=setTimeout(l,s?R.initialDelay:R.arrowRepeatFreq),s=!1};l(),i=o?"mouseout.jsp":"mouseup.jsp",o=o||e("html"),o.bind(i,function(){n.removeClass("jspActive"),r&&clearTimeout(r),r=null,o.unbind(i)})}function h(){v(),N&&it.bind("mousedown.jsp",function(t){if(t.originalTarget===a||t.originalTarget==t.currentTarget){var n,o=e(this),i=o.offset(),r=t.pageY-i.top-et,s=!0,l=function(){var e=o.offset(),a=t.pageY-e.top-lt/2,i=q*R.scrollPagePercent,c=J*i/(G-q);if(0>r)et-c>a?Qt.scrollByY(-i):j(a);else{if(!(r>0))return u(),void 0;a>et+c?Qt.scrollByY(i):j(a)}n=setTimeout(l,s?R.initialDelay:R.trackClickRepeatFreq),s=!1},u=function(){n&&clearTimeout(n),n=null,e(document).unbind("mouseup.jsp",u)};return l(),e(document).bind("mouseup.jsp",u),!1}}),K&&dt.bind("mousedown.jsp",function(t){if(t.originalTarget===a||t.originalTarget==t.currentTarget){var n,o=e(this),i=o.offset(),r=t.pageX-i.left-nt,s=!0,l=function(){var e=o.offset(),a=t.pageX-e.left-ht/2,i=F*R.scrollPagePercent,c=at*i/(V-F);if(0>r)nt-c>a?Qt.scrollByX(-i):w(a);else{if(!(r>0))return u(),void 0;a>nt+c?Qt.scrollByX(i):w(a)}n=setTimeout(l,s?R.initialDelay:R.trackClickRepeatFreq),s=!1},u=function(){n&&clearTimeout(n),n=null,e(document).unbind("mouseup.jsp",u)};return l(),e(document).bind("mouseup.jsp",u),!1}})}function v(){dt&&dt.unbind("mousedown.jsp"),it&&it.unbind("mousedown.jsp")}function f(){e("html").unbind("dragstart.jsp selectstart.jsp mousemove.jsp mouseup.jsp mouseleave.jsp"),$&&$.removeClass("jspActive"),tt&&tt.removeClass("jspActive")}function j(e,t){N&&(0>e?e=0:e>J&&(e=J),t===a&&(t=R.animateScroll),t?Qt.animate($,"top",e,y):($.css("top",e),y(e)))}function y(e){e===a&&(e=$.position().top),E.scrollTop(0),et=e;var t=0===et,o=et==J,i=e/J,r=-i*(G-q);(bt!=t||kt!=o)&&(bt=t,kt=o,n.trigger("jsp-arrow-change",[bt,kt,xt,Tt])),Q(t,o),_.css("top",r),n.trigger("jsp-scroll-y",[-r,t,o]).trigger("scroll")}function w(e,t){K&&(0>e?e=0:e>at&&(e=at),t===a&&(t=R.animateScroll),t?Qt.animate(tt,"left",e,g):(tt.css("left",e),g(e)))}function g(e){e===a&&(e=tt.position().left),E.scrollTop(0),nt=e;var t=0===nt,o=nt==at,i=e/at,r=-i*(V-F);(xt!=t||Tt!=o)&&(xt=t,Tt=o,n.trigger("jsp-arrow-change",[bt,kt,xt,Tt])),b(t,o),_.css("left",r),n.trigger("jsp-scroll-x",[-r,t,o]).trigger("scroll")}function Q(e,t){R.showArrows&&(ut[e?"addClass":"removeClass"]("jspDisabled"),ct[t?"addClass":"removeClass"]("jspDisabled"))}function b(e,t){R.showArrows&&(vt[e?"addClass":"removeClass"]("jspDisabled"),ft[t?"addClass":"removeClass"]("jspDisabled"))}function x(e,t){var a=e/(G-q);j(a*J,t)}function k(e,t){var a=e/(V-F);w(a*at,t)}function T(t,a,n){var o,i,r,s,l,u,c,p,d,m=0,h=0;try{o=e(t)}catch(v){return}for(i=o.outerHeight(),r=o.outerWidth(),E.scrollTop(0),E.scrollLeft(0);!o.is(".jspPane");)if(m+=o.position().top,h+=o.position().left,o=o.offsetParent(),/^body|html$/i.test(o[0].nodeName))return;s=M(),u=s+q,s>m||a?p=m-R.verticalGutter:m+i>u&&(p=m-q+i+R.verticalGutter),p&&x(p,n),l=C(),c=l+F,l>h||a?d=h-R.horizontalGutter:h+r>c&&(d=h-F+r+R.horizontalGutter),d&&k(d,n)}function C(){return-_.position().left}function M(){return-_.position().top}function S(){var e=G-q;return e>20&&e-M()<10}function D(){var e=V-F;return e>20&&e-C()<10}function P(){E.unbind(Mt).bind(Mt,function(e,t,a,n){var o=nt,i=et;return Qt.scrollBy(a*R.mouseWheelSpeed,-n*R.mouseWheelSpeed,!1),o==nt&&i==et})}function X(){E.unbind(Mt)}function Y(){return!1}function B(){_.find(":input,a").unbind("focus.jsp").bind("focus.jsp",function(e){T(e.target,!1)})}function A(){_.find(":input,a").unbind("focus.jsp")}function z(){function t(){var e=nt,t=et;switch(a){case 40:Qt.scrollByY(R.keyboardSpeed,!1);break;case 38:Qt.scrollByY(-R.keyboardSpeed,!1);break;case 34:case 32:Qt.scrollByY(q*R.scrollPagePercent,!1);break;case 33:Qt.scrollByY(-q*R.scrollPagePercent,!1);break;case 39:Qt.scrollByX(R.keyboardSpeed,!1);break;case 37:Qt.scrollByX(-R.keyboardSpeed,!1)}return o=e!=nt||t!=et}var a,o,i=[];K&&i.push(pt[0]),N&&i.push(ot[0]),_.focus(function(){n.focus()}),n.attr("tabindex",0).unbind("keydown.jsp keypress.jsp").bind("keydown.jsp",function(n){if(n.target===this||i.length&&e(n.target).closest(i).length){var r=nt,s=et;switch(n.keyCode){case 40:case 38:case 34:case 32:case 33:case 39:case 37:a=n.keyCode,t();break;case 35:x(G-q),a=null;break;case 36:x(0),a=null}return o=n.keyCode==a&&r!=nt||s!=et,!o}}).bind("keypress.jsp",function(e){return e.keyCode==a&&t(),!o}),R.hideFocus?(n.css("outline","none"),"hideFocus"in E[0]&&n.attr("hideFocus",!0)):(n.css("outline",""),"hideFocus"in E[0]&&n.attr("hideFocus",!1))}function H(){n.attr("tabindex","-1").removeAttr("tabindex").unbind("keydown.jsp keypress.jsp")}function L(){if(location.hash&&location.hash.length>1){var t,a,n=escape(location.hash.substr(1));try{t=e("#"+n+', a[name="'+n+'"]')}catch(o){return}t.length&&_.find(n)&&(0===E.scrollTop()?a=setInterval(function(){E.scrollTop()>0&&(T(t,!0),e(document).scrollTop(E.position().top),clearInterval(a))},50):(T(t,!0),e(document).scrollTop(E.position().top)))}}function I(){e(document.body).data("jspHijack")||(e(document.body).data("jspHijack",!0),e(document.body).delegate("a[href*=#]","click",function(a){var n,o,i,r,s,l,u=this.href.substr(0,this.href.indexOf("#")),c=location.href;if(-1!==location.href.indexOf("#")&&(c=location.href.substr(0,location.href.indexOf("#"))),u===c){n=escape(this.href.substr(this.href.indexOf("#")+1));try{o=e("#"+n+', a[name="'+n+'"]')}catch(p){return}o.length&&(i=o.closest(".jspScrollable"),r=i.data("jsp"),r.scrollToElement(o,!0),i[0].scrollIntoView&&(s=e(t).scrollTop(),l=o.offset().top,(s>l||l>s+e(t).height())&&i[0].scrollIntoView()),a.preventDefault())}}))}function W(){var e,t,a,n,o,i=!1;E.unbind("touchstart.jsp touchmove.jsp touchend.jsp click.jsp-touchclick").bind("touchstart.jsp",function(r){var s=r.originalEvent.touches[0];e=C(),t=M(),a=s.pageX,n=s.pageY,o=!1,i=!0}).bind("touchmove.jsp",function(r){if(i){var s=r.originalEvent.touches[0],l=nt,u=et;return Qt.scrollTo(e+a-s.pageX,t+n-s.pageY),o=o||Math.abs(a-s.pageX)>5||Math.abs(n-s.pageY)>5,l==nt&&u==et}}).bind("touchend.jsp",function(){i=!1}).bind("click.jsp-touchclick",function(){return o?(o=!1,!1):void 0})}function O(){var e=M(),t=C();n.removeClass("jspScrollable").unbind(".jsp"),n.replaceWith(Ct.append(_.children())),Ct.scrollTop(e),Ct.scrollLeft(t),jt&&clearInterval(jt)}var R,_,F,q,E,V,G,U,Z,N,K,$,J,et,tt,at,nt,ot,it,rt,st,lt,ut,ct,pt,dt,mt,ht,vt,ft,jt,yt,wt,gt,Qt=this,bt=!0,xt=!0,kt=!1,Tt=!1,Ct=n.clone(!1,!1).empty(),Mt=e.fn.mwheelIntent?"mwheelIntent.jsp":"mousewheel.jsp";yt=n.css("paddingTop")+" "+n.css("paddingRight")+" "+n.css("paddingBottom")+" "+n.css("paddingLeft"),wt=(parseInt(n.css("paddingLeft"),10)||0)+(parseInt(n.css("paddingRight"),10)||0),e.extend(Qt,{reinitialise:function(t){t=e.extend({},R,t),i(t)},scrollToElement:function(e,t,a){T(e,t,a)},scrollTo:function(e,t,a){k(e,a),x(t,a)},scrollToX:function(e,t){k(e,t)},scrollToY:function(e,t){x(e,t)},scrollToPercentX:function(e,t){k(e*(V-F),t)},scrollToPercentY:function(e,t){x(e*(G-q),t)},scrollBy:function(e,t,a){Qt.scrollByX(e,a),Qt.scrollByY(t,a)},scrollByX:function(e,t){var a=C()+Math[0>e?"floor":"ceil"](e),n=a/(V-F);w(n*at,t)},scrollByY:function(e,t){var a=M()+Math[0>e?"floor":"ceil"](e),n=a/(G-q);j(n*J,t)},positionDragX:function(e,t){w(e,t)},positionDragY:function(e,t){j(e,t)},animate:function(e,t,a,n){var o={};o[t]=a,e.animate(o,{duration:R.animateDuration,easing:R.animateEase,queue:!1,step:n})},getContentPositionX:function(){return C()},getContentPositionY:function(){return M()},getContentWidth:function(){return V},getContentHeight:function(){return G},getPercentScrolledX:function(){return C()/(V-F)},getPercentScrolledY:function(){return M()/(G-q)},getIsScrollableH:function(){return K},getIsScrollableV:function(){return N},getContentPane:function(){return _},scrollToBottom:function(e){j(J,e)},hijackInternalLinks:e.noop,destroy:function(){O()}}),i(o)}return n=e.extend({},e.fn.jScrollPane.defaults,n),e.each(["arrowButtonSpeed","trackClickSpeed","keyboardSpeed"],function(){n[this]=n[this]||n.speed}),this.each(function(){var t=e(this),a=t.data("jsp");a?a.reinitialise(n):(e("script",t).filter('[type="text/javascript"],:not([type])').remove(),a=new o(t,n),t.data("jsp",a))})},e.fn.jScrollPane.defaults={showArrows:!1,maintainPosition:!0,stickToBottom:!1,stickToRight:!1,clickOnTrack:!0,autoReinitialise:!1,autoReinitialiseDelay:500,verticalDragMinHeight:0,verticalDragMaxHeight:99999,horizontalDragMinWidth:0,horizontalDragMaxWidth:99999,contentWidth:a,animateScroll:!1,animateDuration:300,animateEase:"linear",hijackInternalLinks:!1,verticalGutter:4,horizontalGutter:4,mouseWheelSpeed:3,arrowButtonSpeed:0,arrowRepeatFreq:50,arrowScrollOnHover:!1,trackClickSpeed:0,trackClickRepeatFreq:70,verticalArrowPositions:"split",horizontalArrowPositions:"split",enableKeyboardNavigation:!0,hideFocus:!1,keyboardSpeed:0,initialDelay:300,speed:30,scrollPagePercent:.8}}(jQuery,this),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e:e(jQuery)}(function(e){function t(t){var o,i=t||window.event,r=[].slice.call(arguments,1),s=0,l=0,u=0,c=0,p=0;return t=e.event.fix(i),t.type="mousewheel",i.wheelDelta&&(s=i.wheelDelta),i.detail&&(s=-1*i.detail),i.deltaY&&(u=-1*i.deltaY,s=u),i.deltaX&&(l=i.deltaX,s=-1*l),void 0!==i.wheelDeltaY&&(u=i.wheelDeltaY),void 0!==i.wheelDeltaX&&(l=-1*i.wheelDeltaX),c=Math.abs(s),(!a||a>c)&&(a=c),p=Math.max(Math.abs(u),Math.abs(l)),(!n||n>p)&&(n=p),o=s>0?"floor":"ceil",s=Math[o](s/a),l=Math[o](l/n),u=Math[o](u/n),r.unshift(t,s,l,u),(e.event.dispatch||e.event.handle).apply(this,r)}var a,n,o=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],i="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"];if(e.event.fixHooks)for(var r=o.length;r;)e.event.fixHooks[o[--r]]=e.event.mouseHooks;e.event.special.mousewheel={setup:function(){if(this.addEventListener)for(var e=i.length;e;)this.addEventListener(i[--e],t,!1);else this.onmousewheel=t},teardown:function(){if(this.removeEventListener)for(var e=i.length;e;)this.removeEventListener(i[--e],t,!1);else this.onmousewheel=null}},e.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}})}),jQuery(document).ready(function(){function e(){clearTimeout(a),a=setTimeout(function(){var e=jQuery("#mranim").data("val"),t=jQuery("#mrtime").data("val"),a=jQuery("#mrslot").data("val");jQuery(".spectaculus ul li").each(function(){jQuery(this).data("transition",e),jQuery(this).data("slotamount",a),jQuery(this).data("masterspeed",t)}),jQuery("#resultanim").text(e),jQuery("#resultslot").text(a),jQuery("#resultspeed").text(t),revapi.revnext()},300)}if(jQuery("a.menubutton").each(function(){var e=jQuery(this);e.click(function(){var e=jQuery(this),t=e.data("where");if(t&&void 0!=t&&jQuery(t)){var a=jQuery(t).offset().top-40;return jQuery("body, html").animate({scrollTop:a},{queue:!1,duration:400}),!1}})}),is_mobile())jQuery(".transition-selectbox").css({overflow:"scroll"});else{jQuery(".transition-selectbox").jScrollPane({});var t=jQuery(".transition-selectbox").data("jsp")}jQuery("#transitselector").click(function(){var e=jQuery(".transition-selectbox-holder");e.hasClass("opened")||(TweenLite.fromTo(e,.2,{opacity:0,transformOrigin:"center bottom",transformPerspective:400,y:-50,rotationX:0,z:0},{opacity:1,y:0,rotationX:0,ease:Power3.easeOut}),e.css({display:"block"}),setTimeout(function(){t.reinitialise()},100),e.addClass("opened"))}),jQuery("body").on("mouseleave",".transition-selectbox-holder.opened",function(){var e=jQuery(".transition-selectbox-holder");TweenLite.to(e,.2,{opacity:0,transformOrigin:"center bottom",transformPerspective:400,y:-50,rotationX:0,z:0,ease:Power3.easeOut}),e.removeClass("opened")}),jQuery(".transition-selectbox li").each(function(){var t=jQuery(this);t.click(function(){var t=jQuery(this),a=t.data("anim");jQuery("#mranim").text(t.text()),jQuery("#mranim").data("val",a),e()})}),jQuery("#dectime").click(function(){var t=jQuery("#mrtime"),a=t.data("val");a-=100,300>a&&(a=300),t.data("val",a),t.text("Time: "+a/1e3+"s"),e()}),jQuery("#inctime").click(function(){var t=jQuery("#mrtime"),a=t.data("val");a+=100,t.data("val",a),t.text("Time: "+a/1e3+"s"),e()}),jQuery("#decslot").click(function(){var t=jQuery("#mrslot"),a=t.data("val");a-=1,1>a&&(a=1),t.data("val",a),t.text("Slots: "+a),e()}),jQuery("#incslot").click(function(){var t=jQuery("#mrslot"),a=t.data("val");a+=1,a>20&&(a=20),t.data("val",a),t.text("Slots: "+a),e()});var a;prepareAnimateCreator(),jQuery("#set-random-animation").click(function(){jQuery('input[name="movex"]').val(10*(Math.floor(101*Math.random())-50)),jQuery('input[name="movey"]').val(10*(Math.floor(101*Math.random())-50)),jQuery('input[name="movez"]').val(10*(Math.floor(11*Math.random())-5)),jQuery('input[name="rotationx"]').val(10*(Math.floor(101*Math.random())-50)),jQuery('input[name="rotationy"]').val(10*(Math.floor(101*Math.random())-50)),jQuery('input[name="rotationz"]').val(10*(Math.floor(101*Math.random())-50)),jQuery('input[name="scalex"]').val(10*Math.floor(31*Math.random())),jQuery('input[name="scaley"]').val(10*Math.floor(31*Math.random())),jQuery('input[name="skewx"]').val(Math.floor(61*Math.random())),jQuery('input[name="skewy"]').val(Math.floor(61*Math.random())),jQuery('input[name="captionopacity"]').val(0),jQuery('input[name="captionperspective"]').val(600),jQuery('input[name="originx"]').val(10*(Math.floor(41*Math.random())-20)),jQuery('input[name="originy"]').val(10*(Math.floor(41*Math.random())-20)),jQuery('input[name="captionspeed"]').val(100*(Math.floor(11*Math.random())+5)),transition=jQuery("#caption-easing-demo option");var e=Math.floor(transition.length*(Math.random()%1));transition.attr("selected",!1).eq(e).attr("selected",!0),jQuery('input[name="movexout"]').val(10*(Math.floor(101*Math.random())-50)),jQuery('input[name="moveyout"]').val(10*(Math.floor(101*Math.random())-50)),jQuery('input[name="movezout"]').val(10*(Math.floor(11*Math.random())-5)),jQuery('input[name="rotationxout"]').val(10*(Math.floor(101*Math.random())-50)),jQuery('input[name="rotationyout"]').val(10*(Math.floor(101*Math.random())-50)),jQuery('input[name="rotationzout"]').val(10*(Math.floor(101*Math.random())-50)),jQuery('input[name="scalexout"]').val(10*Math.floor(31*Math.random())),jQuery('input[name="scaleyout"]').val(10*Math.floor(31*Math.random())),jQuery('input[name="skewxout"]').val(Math.floor(61*Math.random())),jQuery('input[name="skewyout"]').val(Math.floor(61*Math.random())),jQuery('input[name="captionopacityout"]').val(0),jQuery('input[name="captionperspectiveout"]').val(600),jQuery('input[name="originxout"]').val(10*(Math.floor(41*Math.random())-20)),jQuery('input[name="originyout"]').val(10*(Math.floor(41*Math.random())-20)),jQuery('input[name="captionspeedout"]').val(100*(Math.floor(11*Math.random())+5)),transition=jQuery("#caption-easing-demoout option");var e=Math.floor(transition.length*(Math.random()%1));transition.attr("selected",!1).eq(e).attr("selected",!0)})});